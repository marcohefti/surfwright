{
  "files": {
    "include": ["**/*"],
    "exclude": ["dist/**", "node_modules/**", ".git/**", ".idea/**"]
  },
  "rules": [
    {
      "name": "feature-boundaries",
      "enabled": true,
      "options": {
        "include": ["src/features/**/*.ts"],
        "exclude": []
      }
    },
    {
      "name": "feature-core-imports",
      "enabled": true,
      "options": {
        "include": ["src/features/**/*.ts"],
        "exclude": [],
        "allowCoreImports": [
          "src/core/cli-contract",
          "src/core/daemon/public",
          "src/core/extensions/public",
          "src/core/network/public",
          "src/core/network-types",
          "src/core/pipeline/public",
          "src/core/skills/public",
          "src/core/session/public",
          "src/core/state/public",
          "src/core/target/public",
          "src/core/types",
          "src/core/update/public",
          "src/core/*/public"
        ]
      }
    },
    {
      "name": "surface-command-purity",
      "enabled": true,
      "options": {
        "include": ["src/features/**/*.ts"],
        "exclude": []
      }
    },
    {
      "name": "feature-layer-purity",
      "enabled": true,
      "options": {
        "include": ["src/features/**/domain/**/*.ts", "src/features/**/usecases/**/*.ts"],
        "exclude": []
      }
    },
    {
      "name": "core-boundaries",
      "enabled": true,
      "options": {
        "include": ["src/core/**/*.ts"],
        "exclude": [],
        "boundedDomains": [
          "session",
          "state",
          "shared",
          "target",
          "daemon",
          "extensions",
          "network",
          "pipeline",
          "pipeline-support",
          "providers",
          "skills",
          "update"
        ],
        "allowCrossDomainInternal": ["src/core/*/public", "src/core/*/index"]
      }
    },
    {
      "name": "core-root-state-imports",
      "enabled": true,
      "options": {
        "include": ["src/**/*.ts"],
        "exclude": [],
        "allowImportFromCoreRootState": ["src/core/state/**/*.ts"]
      }
    },
    {
      "name": "domain-no-cross-domain",
      "enabled": true,
      "options": {
        "include": ["src/core/**/domain/**/*.ts"],
        "exclude": [],
        "allowImportPrefixes": ["src/core/types", "src/core/shared", "src/core/contracts"]
      }
    },
    {
      "name": "boundary-json-parse",
      "enabled": true,
      "options": {
        "include": ["src/**/*.ts"],
        "exclude": [],
        "allowlist": [
          "src/cli.ts",
          "src/core/daemon/index.ts",
          "src/core/daemon/worker.ts",
          "src/core/extensions/index.ts",
          "src/core/pipeline-support/plan.ts",
          "src/core/skills/manager.ts",
          "src/core/state/infra/state-store.ts",
          "src/core/target/target-eval.ts",
          "src/core/target/target-read.ts",
          "src/core/target/network/target-network-capture.ts",
          "src/core/target/network/target-network-check.ts",
          "src/core/target/network/target-network-source.ts",
          "src/core/update/config.ts",
          "src/core/update/manager.ts"
        ]
      }
    },
    {
      "name": "core-layer-purity",
      "enabled": true,
      "options": {
        "include": ["src/core/**/domain/**/*.ts", "src/core/**/app/**/*.ts"],
        "exclude": []
      }
    },
    {
      "name": "core-root-freeze",
      "enabled": true,
      "options": {
        "include": ["src/core/*.ts"],
        "exclude": [],
        "allowlist": [
          "src/core/action-id.ts",
          "src/core/browser.ts",
          "src/core/cli-contract.ts",
          "src/core/errors.ts",
          "src/core/network-types.ts",
          "src/core/pipeline.ts",
          "src/core/report-fields.ts",
          "src/core/session-isolation.ts",
          "src/core/session-report.ts",
          "src/core/types.ts"
        ]
      }
    },
    {
      "name": "state-boundaries",
      "enabled": true,
      "options": {
        "include": ["src/**/*.ts"],
        "exclude": [],
        "mutationBindings": [
          "allocateArtifactId",
          "allocateCaptureId",
          "allocateSessionId",
          "updateState",
          "upsertTargetState",
          "writeState"
        ],
        "allowMutationImportFromState": [
          "src/core/state/repo/**/*.ts"
        ]
      }
    },
    {
      "name": "cli-commander-options",
      "enabled": true,
      "options": {
        "include": ["src/features/**/commands/**/*.ts"],
        "exclude": []
      }
    },
    {
      "name": "max-files-per-directory",
      "enabled": true,
      "options": {
        "max": 12,
        "include": ["**/*"],
        "exclude": []
      }
    },
    {
      "name": "max-loc",
      "enabled": true,
      "options": {
        "max": 500,
        "include": ["src/**/*.ts", "scripts/**/*.mjs", "test/**/*.mjs"],
        "exclude": []
      }
    }
  ]
}
